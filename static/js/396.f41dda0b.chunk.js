"use strict";(self.webpackChunkreact_simple_1=self.webpackChunkreact_simple_1||[]).push([[396],{4673:function(e,s,t){t.r(s),t.d(s,{default:function(){return ie}});var n=t(1413),o=t(5671),i=t(3144),a=t(136),r=t(5716),l=t(2791),c=t(885),u=t(5987),d="ProfileInfo_profileInfo__v8XZY",f=t(8234),p=t.p+"static/media/lookingForAJob.8232d9f1835ee2927882.jpg",m=t.p+"static/media/notLookingForAJob.241d79a1457e74100e24.jpg",h="ProfileInfoData_fullName__oAyyu",x="ProfileInfoData_aboutMe__pSIj1",j="ProfileInfoData_lookingForAJob__o6EkV",v="ProfileInfoData_lookingForAJobText__XwzEJ",_="ProfileInfoData_lookingForAJobImage__tovwH",P="ProfileInfoData_contacts__MdLZG",g="ProfileInfoData_usualSpan__je5Xh",b="ProfileInfoData_summaryError__fw8kg",k="ProfileInfoData_usualTitle__pmUcB",N=t(184),I=function(e){var s=e.contactTitle,t=e.contactValue;return(0,N.jsx)("div",{children:(0,N.jsxs)("span",{children:[s,": ",t]})})},S=function(e){var s=e.isOwner,t=e.profile,n=e.goToEditMode;return(0,N.jsx)("div",{children:(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{className:k,children:"Main information: "}),(0,N.jsx)("div",{className:h,children:t.fullName}),(0,N.jsx)("div",{className:x,children:(0,N.jsxs)("span",{children:["About me: ",t.aboutMe]})}),(0,N.jsxs)("div",{className:j,children:[(0,N.jsx)("img",{src:t.lookingForAJob?p:m,className:_,alt:""}),(0,N.jsx)("span",{className:v,children:t.lookingForAJob&&t.lookingForAJobDescription})]})]}),(0,N.jsxs)("div",{className:P,children:[(0,N.jsx)("span",{className:k,children:"Contacts: "}),Object.keys(t.contacts).map((function(e){return(0,N.jsx)(I,{contactTitle:e,contactValue:t.contacts[e]},e)}))]}),s&&(0,N.jsx)("div",{children:(0,N.jsx)("button",{onClick:n,children:"Edit personal information"})})]})})},y=t(704),Z=t(6139),w=t(9086),A=function(e){var s=e.spanText,t=e.name,n=e.type,o=void 0===n?"text":n,i=e.component,a=void 0===i?w.I:i;return(0,N.jsxs)("div",{children:[(0,N.jsxs)("span",{className:g,children:[s,": "]}),(0,N.jsx)(Z.Z,{component:a,type:o,name:t,validate:[]})]})},M=function(e){var s=e.handleSubmit,t=e.profile,n=e.error;return(0,N.jsx)("div",{children:(0,N.jsxs)("form",{onSubmit:s,children:[(0,N.jsx)("div",{children:(0,N.jsx)("button",{children:"Save changes"})}),n&&(0,N.jsx)("div",{className:b,children:n}),(0,N.jsx)("span",{className:k,children:"Main information: "}),(0,N.jsx)(A,{spanText:"Full name: ",name:"fullName"}),(0,N.jsx)(A,{spanText:"Looking for a job: ",name:"lookingForAJob",type:"checkbox"}),(0,N.jsx)(A,{spanText:"My professional skills: ",name:"lookingForAJobDescription",component:w.g}),(0,N.jsx)(A,{spanText:"About me: ",name:"aboutMe",component:w.g}),(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{className:k,children:"Contacts: "}),Object.keys(t.contacts).map((function(e){return(0,N.jsx)("div",{children:(0,N.jsx)(A,{spanText:e,name:"contacts."+e})},e)}))]})]})})},O=function(e){var s=(0,y.Z)({form:"saveProfile",enableReinitialize:!0,destroyOnUnmount:!1})(M);return(0,N.jsx)(s,(0,n.Z)({onSubmit:e.onSubmit},e))},T={},D=function(e){var s=(0,l.useState)(!1),t=(0,c.Z)(s,2),n=t[0],o=t[1],i=(0,l.useState)(e.status),a=(0,c.Z)(i,2),r=a[0],u=a[1];(0,l.useEffect)((function(){u(e.status)}),[e.status]);return(0,N.jsx)("div",{children:(0,N.jsxs)("div",{className:T.statusWrapper,children:[!n&&(0,N.jsx)("div",{children:(0,N.jsxs)("span",{onDoubleClick:function(){o(!0)},children:["Status: ",e.status||""]})}),n&&(0,N.jsx)("div",{children:(0,N.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){o(!1),e.updateStatus(r)},value:[r],className:T.inputStatus,type:"text"})})]})})},F=["profile","saveProfileInfo","isOwner"],C=function(e){var s=e.profile,t=e.saveProfileInfo,n=e.isOwner,o=((0,u.Z)(e,F),(0,l.useState)(!1)),i=(0,c.Z)(o,2),a=i[0],r=i[1];if(!s)return(0,N.jsx)(f.Z,{isFetching:!0});return(0,N.jsx)("div",{className:d,children:a?(0,N.jsx)(O,{initialValues:s,onSubmit:function(e){t(e).then((function(){r(!1)}))},profile:s}):(0,N.jsx)(S,{goToEditMode:function(){r(!0)},profile:s,isOwner:n})})},J="MyPosts_title__42Wkl",U="MyPosts_addPost__HTPUY",E="MyPosts_myPosts__VMOLM",L="Post_item__frFzT",V="Post_ava__VvTCS",X=function(e){return(0,N.jsxs)("div",{className:L,children:[(0,N.jsx)("img",{src:"https://www.pngkey.com/png/detail/137-1377461_contacts-contact-icon.png",className:V}),e.message,(0,N.jsx)("div",{children:(0,N.jsxs)("span",{children:["likes : ",e.likesNumber]})})]})},z=t(5304),G=(0,z.D)(150),W=(0,y.Z)({form:"addPost"})((function(e){return(0,N.jsxs)("form",{action:"",onSubmit:e.handleSubmit,className:U,children:[(0,N.jsx)("div",{children:(0,N.jsx)(Z.Z,{component:w.g,name:"textOfPost",value:e.value,validate:[z.C,G],placeholder:"Goodbyes"})}),(0,N.jsx)("div",{children:(0,N.jsx)("button",{children:"Add a post"})})]})})),q=function(e){return(0,N.jsx)("div",{children:(0,N.jsx)(W,{onSubmit:function(s){e.addPost(s.textOfPost)}})})},B=function(e){var s=e.profilePage.posts.map((function(e){return(0,N.jsx)(X,{message:e.message,likesNumber:e.likesNumber},e.id)}));return(0,N.jsxs)("div",{className:E,children:[(0,N.jsx)("div",{className:J,children:"My posts"}),(0,N.jsxs)("div",{className:E,children:[(0,N.jsx)(q,{addPost:e.addPost}),s]})]})},H=t(6508),Y=t(8687),$=(0,Y.$j)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(s){e((0,H.Wl)(s))}}}))(B),Q="Profile_profileWrapper__2LgMX",R={avaAndStatus:"ProfilePhoto_avaAndStatus__CFGzQ",profilePhoto:"ProfilePhoto_profilePhoto__DmkJx"},K=t(4353),ee=function(e){return null===e.profile?(0,N.jsx)(f.Z,{}):(0,N.jsxs)("div",{className:R.avaAndStatus,children:[(0,N.jsx)("div",{children:e.isOwner&&(0,N.jsx)("input",{type:"file",className:R.choosePhoto,onChange:function(s){s.target.files&&e.savePhoto(s.target.files[0])}})}),(0,N.jsx)("div",{className:R.ava,children:(0,N.jsx)("img",{src:e.profile.photos.large||K,alt:"No",className:R.profilePhoto})}),(0,N.jsx)(D,{status:e.status,updateStatus:e.updateUserStatus})]})},se=function(e){return(0,N.jsxs)("div",{className:Q,children:[(0,N.jsx)(C,{profile:e.profile,isOwner:e.isOwner,saveProfileInfo:e.saveProfileInfo}),(0,N.jsx)(ee,{profile:e.profile,savePhoto:e.savePhoto,isOwner:e.isOwner,status:e.status,updateUserStatus:e.updateUserStatus}),(0,N.jsx)($,{})]})},te=t(9271),ne=t(7781),oe=function(e){(0,a.Z)(t,e);var s=(0,r.Z)(t);function t(){return(0,o.Z)(this,t),s.apply(this,arguments)}return(0,i.Z)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.loggedInUserId)||this.props.history.push("/signIn"),this.props.getProfileInfo(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,N.jsx)(se,(0,n.Z)((0,n.Z)({},this.props),{},{isOwner:!this.props.match.params.userId}))}}]),t}(l.Component),ie=(0,ne.qC)((0,Y.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,loggedInUserId:e.auth.userId}}),{setProfilePage:H.Gg,getProfileInfo:H.j3,getUserStatus:H.Tq,updateUserStatus:H.OL,savePhoto:H.Ju,saveProfileInfo:H.FX}),te.EN)(oe)}}]);
//# sourceMappingURL=396.f41dda0b.chunk.js.map